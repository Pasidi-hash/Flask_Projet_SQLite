<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>Gestion Biblioth√®que Dynamique</title>
    <style>
        :root {
            --noir: #1a1a1a;
            --bleu: #0056b3;
            --gris-fond: #f4f4f4;
            --gris-bordure: #dcdcdc;
            --blanc: #ffffff;
        }

        body { font-family: 'Segoe UI', sans-serif; background-color: var(--gris-fond); color: var(--noir); margin: 0; padding: 20px; }
        .container { max-width: 900px; margin: auto; }
        
        h1 { border-left: 6px solid var(--bleu); padding-left: 15px; margin-bottom: 30px; text-transform: uppercase; }

        section { 
            background: var(--blanc); padding: 20px; margin-bottom: 20px; 
            border-radius: 4px; border: 1px solid var(--gris-bordure);
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
        }

        h2 { color: var(--bleu); font-size: 1.1em; border-bottom: 1px solid #eee; padding-bottom: 10px; }

        .form-inline { display: flex; gap: 10px; margin-bottom: 15px; flex-wrap: wrap; }
        input { flex: 1; padding: 10px; border: 1px solid var(--gris-bordure); border-radius: 4px; min-width: 150px; }
        
        button { 
            background: var(--noir); color: white; border: none; padding: 10px 20px; 
            cursor: pointer; border-radius: 4px; font-weight: bold; transition: 0.2s;
        }
        button:hover { opacity: 0.8; }
        .btn-blue { background: var(--bleu); }

        table { width: 100%; border-collapse: collapse; margin-top: 15px; }
        th { background: var(--noir); color: white; padding: 12px; text-align: left; }
        td { padding: 10px; border-bottom: 1px solid #eee; }

        .stats-bar { display: flex; gap: 15px; margin-top: 20px; }
        .stat-box { flex: 1; background: var(--noir); color: white; padding: 15px; border-radius: 4px; text-align: center; }
        .stat-box span { display: block; font-size: 1.5em; font-weight: bold; color: var(--bleu); }
    </style>
</head>
<body>

<div class="container">
    <h1>üìö Administration Biblioth√®que</h1>

    <section>
        <h2>‚ûï Enregistrer un nouveau livre</h2>
        <div class="form-inline">
            <input type="text" id="bookTitle" placeholder="Titre du livre">
            <input type="text" id="bookAuthor" placeholder="Auteur">
            <button class="btn-blue" onclick="ajouterLivre()">Ajouter au stock</button>
        </div>
    </section>

    <section>
        <h2>üîç Inventaire & Emprunts</h2>
        <input type="text" id="searchBar" placeholder="Rechercher un livre..." onkeyup="filtrerLivres()" style="width: 100%; margin-bottom: 15px;">
        
        <table>
            <thead>
                <tr>
                    <th>Titre</th>
                    <th>Auteur</th>
                    <th>Action</th>
                </tr>
            </thead>
            <tbody id="bookList">
                </tbody>
        </table>
    </section>

    <div class="stats-bar">
        <div class="stat-box">Total Livres <span id="statTotal">0</span></div>
        <div class="stat-box">Emprunts <span id="statEmprunts">0</span></div>
    </div>
</div>

<script>
    // Notre base de donn√©es locale (tableau d'objets)
    let livres = [
        { id: 1, titre: "L'√âtranger", auteur: "Albert Camus" },
        { id: 2, titre: "Naruto T.1", auteur: "Masashi Kishimoto" }
    ];

    let nbEmprunts = 0;

    // Fonction pour afficher la liste
    function afficherLivres(liste = livres) {
        const tbody = document.getElementById('bookList');
        tbody.innerHTML = "";

        liste.forEach((livre) => {
            tbody.innerHTML += `
                <tr>
                    <td>${livre.titre}</td>
                    <td>${livre.auteur}</td>
                    <td>
                        <button class="btn-blue" onclick="emprunter()">Emprunter</button>
                        <button onclick="supprimerLivre(${livre.id})" style="background:#6c757d; padding: 5px 10px;">Supprimer</button>
                    </td>
                </tr>
            `;
        });
        
        // Mise √† jour des stats
        document.getElementById('statTotal').innerText = livres.length;
        document.getElementById('statEmprunts').innerText = nbEmprunts;
    }

    // Fonction pour ajouter un livre
    function ajouterLivre() {
        const titre = document.getElementById('bookTitle').value;
        const auteur = document.getElementById('bookAuthor').value;

        if (titre === "" || auteur === "") {
            alert("Merci de remplir tous les champs");
            return;
        }

        const nouveauLivre = {
            id: Date.now(), // G√©n√®re un ID unique
            titre: titre,
            auteur: auteur
        };

        livres.push(nouveauLivre);
        afficherLivres();

        // Vider les champs
        document.getElementById('bookTitle').value = "";
        document.getElementById('bookAuthor').value = "";
    }

    // Fonction pour supprimer
    function supprimerLivre(id) {
        livres = livres.filter(l => l.id !== id);
        afficherLivres();
    }

    // Fonction pour simuler un emprunt
    function emprunter() {
        nbEmprunts++;
        document.getElementById('statEmprunts').innerText = nbEmprunts;
        alert("Livre emprunt√© avec succ√®s !");
    }

    // Fonction de recherche
    function filtrerLivres() {
        const query = document.getElementById('searchBar').value.toLowerCase();
        const resultats = livres.filter(l => 
            l.titre.toLowerCase().includes(query) || 
            l.auteur.toLowerCase().includes(query)
        );
        afficherLivres(resultats);
    }

    // Lancement au d√©marrage
    afficherLivres();
</script>

</body>
</html>
